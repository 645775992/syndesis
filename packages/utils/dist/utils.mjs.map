{"version":3,"file":"utils.mjs","sources":["../src/getConnectionIcon.ts","../src/ListViewToolbarAbstractComponent.tsx"],"sourcesContent":["import { IConnection } from \"@syndesis/models\";\n\nexport function getConnectionIcon(connection: IConnection, publicUrl: string | undefined) {\n  return connection.icon.startsWith('data:')\n    ? connection.icon\n    : `${publicUrl}/icons/${connection.id}.connection.png`;\n}","import { IActiveFilter, IFilterType } from \"@syndesis/ui\";\nimport * as React from 'react';\n\nexport interface IListViewToolbarAbstractComponent {\n  activeFilters: IActiveFilter[];\n  currentFilterType: IFilterType;\n  currentSortType: string;\n  currentValue: any;\n  filterCategory: any;\n  isSortAscending: boolean;\n}\n\nexport abstract class ListViewToolbarAbstractComponent<\n  P,\n  S extends IListViewToolbarAbstractComponent\n> extends React.Component<P, S> {\n  public onUpdateCurrentValue = (event: Event) => {\n    this.setState({ currentValue: (event.target as HTMLInputElement).value });\n  };\n\n  public onValueKeyPress = (keyEvent: KeyboardEvent) => {\n    const { currentValue, currentFilterType } = this.state;\n\n    if (keyEvent.key === 'Enter' && currentValue && currentValue.length > 0) {\n      this.setState({ currentValue: '' });\n      this.onFilterAdded(currentFilterType.title, currentValue);\n      keyEvent.stopPropagation();\n      keyEvent.preventDefault();\n    }\n  };\n\n  public onFilterAdded = (title: string, value: string) => {\n    const { activeFilters } = this.state;\n    this.setState({\n      activeFilters: [\n        ...activeFilters,\n        {\n          title,\n          value\n        } as IActiveFilter\n      ]\n    });\n  };\n\n  public onSelectFilterType = (filterType: IFilterType) => {\n    const { currentFilterType } = this.state;\n    if (currentFilterType !== filterType) {\n      this.setState({ currentValue: '', currentFilterType: filterType });\n    }\n  };\n\n  public onFilterValueSelected = (filterValue: {\n    id: string;\n    title: string;\n  }) => {\n    const { currentFilterType } = this.state;\n\n    this.setState({ currentValue: filterValue.title });\n    if (filterValue) {\n      this.onFilterAdded(currentFilterType.title, filterValue.title);\n    }\n  };\n\n  public onRemoveFilter = (filter: IActiveFilter) => {\n    const { activeFilters } = this.state;\n\n    const index = activeFilters.indexOf(filter);\n    if (index > -1) {\n      const updated = [\n        ...activeFilters.slice(0, index),\n        ...activeFilters.slice(index + 1)\n      ];\n      this.setState({ activeFilters: updated });\n    }\n  };\n\n  public onClearFilters = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState({ activeFilters: [] });\n  };\n\n  public onToggleCurrentSortDirection = () => {\n    const { isSortAscending } = this.state;\n\n    this.setState({ isSortAscending: !isSortAscending });\n  };\n\n  public onUpdateCurrentSortType = (sortType: string) => {\n    const { currentSortType } = this.state;\n\n    if (currentSortType !== sortType) {\n      this.setState({\n        currentSortType: sortType,\n        isSortAscending: true\n      });\n    }\n  };\n}\n"],"names":["getConnectionIcon","connection","publicUrl","icon","startsWith","id","_this","event","setState","currentValue","target","value","keyEvent","_a","currentFilterType","key","length","onFilterAdded","title","stopPropagation","preventDefault","activeFilters","filterType","filterValue","filter","index","indexOf","updated","slice","isSortAscending","sortType","currentSortType","tslib_1.__extends","React.Component"],"mappings":"2CAEgBA,EAAkBC,EAAyBC,GACzD,OAAOD,EAAWE,KAAKC,WAAW,SAC9BH,EAAWE,KACRD,YAAmBD,EAAWI,6MCOvC,kBAAA,aAAA,qDAISC,uBAAuB,SAACC,GAC7BD,EAAKE,SAAS,CAAEC,aAAeF,EAAMG,OAA4BC,SAG5DL,kBAAkB,SAACM,GAClB,IAAAC,UAAEJ,iBAAcK,sBAED,UAAjBF,EAASG,KAAmBN,GAAgBA,EAAaO,OAAS,IACpEV,EAAKE,SAAS,CAAEC,aAAc,KAC9BH,EAAKW,cAAcH,EAAkBI,MAAOT,GAC5CG,EAASO,kBACTP,EAASQ,mBAINd,gBAAgB,SAACY,EAAeP,GAErCL,EAAKE,SAAS,CACZa,4CAEE,CACEH,QACAP,cAMDL,qBAAqB,SAACgB,+BAEDA,GACxBhB,EAAKE,SAAS,CAAEC,aAAc,GAAIK,kBAAmBQ,KAIlDhB,wBAAwB,SAACiB,GAItB,IAAAT,4BAERR,EAAKE,SAAS,CAAEC,aAAcc,EAAYL,QACtCK,GACFjB,EAAKW,cAAcH,EAAkBI,MAAOK,EAAYL,QAIrDZ,iBAAiB,SAACkB,GACf,IAAAH,wBAEFI,EAAQJ,EAAcK,QAAQF,GACpC,GAAIC,GAAS,EAAG,CACd,IAAME,EACDN,EAAcO,MAAM,EAAGH,UACvBJ,EAAcO,MAAMH,EAAQ,IAEjCnB,EAAKE,SAAS,CAAEa,cAAeM,MAI5BrB,iBAAiB,SAACC,GACvBA,EAAMa,iBACNd,EAAKE,SAAS,CAAEa,cAAe,MAG1Bf,+BAA+B,WAGpCA,EAAKE,SAAS,CAAEqB,4CAGXvB,0BAA0B,SAACwB,6BAGRA,GACtBxB,EAAKE,SAAS,CACZuB,gBAAiBD,EACjBD,iBAAiB,OAIzB,kIAlFUG,SAAAC"}