{"version":3,"file":"WithConnectorCreationForm.js","sourceRoot":"","sources":["../../src/containers/WithConnectorCreationForm.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAM/B,MAAM,UAAU,UAAU,CAAC,WAAmB;IAC5C,QAAQ,WAAW,EAAE;QACnB,KAAK,KAAK;YACR,OAAO,MAAM,CAAC,yBAAyB,CAAC,CAAC;QAC3C;YACE,OAAO,OAAO,CAAC,MAAM,EAAE,CAAC;KAC3B;AACH,CAAC;AAaD,MAAM,OAAO,yBAA0B,SAAQ,KAAK,CAAC,SAAkD;IAAvG;;QACS,UAAK,GAAG;YACb,OAAO,EAAE,IAAI;YACb,KAAK,EAAE,KAAK;SACb,CAAC;IAuBJ,CAAC;IArBQ,KAAK,CAAC,iBAAiB;QAC5B,IAAI;YACF,IAAI,CAAC,QAAQ,CAAC;gBACZ,OAAO,EAAE,IAAI;aACd,CAAC,CAAC;YACH,MAAM,EAAE,YAAY,EAAE,GAAG,MAAM,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;YAClE,IAAI,CAAC,QAAQ,CAAC;gBACZ,YAAY;gBACZ,OAAO,EAAE,KAAK;aACf,CAAC,CAAA;SACH;QAAC,OAAM,CAAC,EAAE;YACT,IAAI,CAAC,QAAQ,CAAC;gBACZ,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,KAAK;aACf,CAAC,CAAC;SACJ;IACH,CAAC;IAEM,MAAM;QACX,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACzC,CAAC;CACF","sourcesContent":["import * as React from 'react';\n\nexport interface IConnectorModule {\n  CreationForm: any;\n}\n\nexport function loadModule(connectorId: string): Promise<IConnectorModule> {\n  switch (connectorId) {\n    case 'ftp':\n      return import('@syndesis/connector-ftp');\n    default:\n      return Promise.reject();\n  }\n}\n\nexport interface IWithConnectorState {\n  CreationForm?: any;\n  loading: boolean;\n  error: boolean;\n}\n\nexport interface IWithConnectorForm {\n  connectorId: string;\n  children(props: IWithConnectorState): any;\n}\n\nexport class WithConnectorCreationForm extends React.Component<IWithConnectorForm, IWithConnectorState> {\n  public state = {\n    loading: true,\n    error: false\n  };\n\n  public async componentDidMount() {\n    try {\n      this.setState({\n        loading: true\n      });\n      const { CreationForm } = await loadModule(this.props.connectorId);\n      this.setState({\n        CreationForm,\n        loading: false\n      })\n    } catch(e) {\n      this.setState({\n        error: true,\n        loading: false\n      });\n    }\n  }\n\n  public render() {\n    return this.props.children(this.state);\n  }\n}\n"]}